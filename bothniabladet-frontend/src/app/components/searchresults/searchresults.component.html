<!DOCTYPE html>
<br />
<br />
<br />
<div class="parent">
  <form class="search-result" [formGroup]="simplesearch_data" (ngSubmit)="onFormSubmit()">
    <table class="search-full-width">
      <tr class="tableRowLeft">
        <p class="title">Sökresultat</p>
      </tr>
      <tr class="tableRowLeft">
        <th style="width:40%">
          <mat-form-field class="search-full-width" appearance="outline">
            <mat-label class="matLabel"><mat-icon class="matIcon">search</mat-icon>Skriv valfria sökord här</mat-label>
            <input matInput placeholder="Sökord" type="text" id="simple_searchBar" name="simple_searchString" formControlName="simple_searchString">
          </mat-form-field>
        </th>
        <th style="width:20%; align-content:center">
          <div class="search-button"><button mat-raised-button color="primary" type="submit">Sök</button></div>
        </th>
        <th style="width:40%; align-content:center">
        </th>
      </tr>
    </table>
  </form>
</div>



  <tr><h1><b>Din sökning genererade {{ resultLength }} träffar.</b></h1></tr>

  <table>

<div class="parent">
  <table class="search-result">
    <tr>
      <mat-accordion class="headers-align" multi>
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title><mat-icon class="padding_icon">filter_list</mat-icon> Filtrera sökresultat </mat-panel-title>
            <mat-panel-description></mat-panel-description>
          </mat-expansion-panel-header>

          <table class="userlist-form-width">

            <tr class="tableRowRight">
              <span class="paddingLeft"><button mat-raised-button color="white"> Rensa </button></span>
              <span class="paddingLeft"><button mat-raised-button color="primary">Filtrera</button></span>
            </tr>
          </table>
        </mat-expansion-panel>
      </mat-accordion>
      <br />
      <br />
    </tr>

    <tr>
      <mat-grid-list cols="3" rowHeight="2:1">
        <ng-container *ngFor="let image of imagesData; let i = index">
            <td>
              <ol>
                <li>
                  <img src="{{ image.variants[0] }}" class="hoverMouse" height="280px" width="200px" id="image_{{ i }}" (click)="openDialog(image)">
                  <p>Fotograf: {{ image.photographer }}</p>
                  <p>Pris: {{ image.price }}</p>
                  <p>Begränsningar: {{ image.restrictions }}</p>
                  <p *ngIf="image.restrictions==='Begränsad'">Kvarstående publiceringar: {{ image.remaining_publications }}</p>
                  <table>
                    <th>Varianter</th>
                    <tr>
                      <td  *ngFor="let variant of image.variants">
                      <img src="{{ variant }}" height="30px" width="20px" (click)="changePicture(i,variant)">
                    </td>
                    </tr>
                  </table>
                </li>
                <li>
                  <button mat-raised-button (click)="addToCart(image)">Lägg till i varukorg</button>
                </li>
                <li>
                  <form [formGroup]="uploadVariantForm" (ngSubmit)="uploadVariant(image)" *ngIf="getUserRole()==='Admin'">
                  <mat-form-field class="fileupload-full-width" appearance="outline" id="fileUploader">
                    <div class="fileupload-full-width">
                      <mat-toolbar>
                        <input matInput placeholder="Välj fil" readonly name="uploadedImage">
          
          
                        <input type="file" #UploadFileInput id="customFile" (change)="onFileSelect($event)" name="uploadedImage"
                               multiple="multiple" accept="image/*">
          
                      </mat-toolbar>
                      <button class="fileupload-button" mat-raised-button color="primary" type="sumbit">Ladda upp</button>
                    </div>
                  </mat-form-field>
                </form>
                </li>
              </ol>
            </td>
<!--
      <mat-grid-list cols="4" rowHeight="200px" style="padding-bottom:2em;">
        <ng-container *ngFor="let image of imagesData">
          <td>


            <mat-grid-tile class="tile">
              <img class="hoverMouse" src="{{ image.filepath }}" height="180px" (click)="openDialog(image)"><br />
            </mat-grid-tile>


          </td>
-->
        </ng-container>
      </mat-grid-list>
    </tr>
  </table>
</div>
